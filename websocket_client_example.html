<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Client Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>WebSocket Client Example</h1>
    <div>
        <button id="connect">Connect</button>
        <button id="disconnect">Disconnect</button>
    </div>
    <div>
        <input type="text" id="messageInput" placeholder="Enter message">
        <button id="sendMessage">Send Message</button>
    </div>
    <div>
        <textarea id="messages" rows="10" cols="50" readonly></textarea>
    </div>

    <script>
        const socket = io('ws://localhost:9990');
        
        socket.on('connect', function() {
            $('#messages').append('Connected to server\n');
        });
        
        socket.on('disconnect', function() {
            $('#messages').append('Disconnected from server\n');
        });
        
        socket.on('response', function(data) {
            $('#messages').append('Server: ' + JSON.stringify(data) + '\n');
        });
        
        $('#connect').click(function() {
            socket.connect();
        });
        
        $('#disconnect').click(function() {
            socket.disconnect();
        });
        
        $('#sendMessage').click(function() {
            const message = $('#messageInput').val();
            socket.emit('message', message);
            $('#messageInput').val('');
        });
    </script>
</body>
</html>